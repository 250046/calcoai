TRANSLATIONS = {
    "uz": {
        "welcome": "ðŸ‘‹ Assalomu alaykum! Men Calco AI - sizning shaxsiy moliyaviy yordamchingizman.\n\nðŸŒ Tilni tanlang:",
        "language_selected": "âœ… Til o'zbekcha o'rnatildi!",
        "main_menu": "ðŸ“Š Asosiy menyu\n\nNima qilmoqchisiz?",
        "add_expense": "âž– Xarajat qo'shish",
        "add_income": "âž• Daromad qo'shish",
        "view_history": "ðŸ“œ Tarix",
        "monthly_report": "ðŸ“Š Oylik hisobot",
        "manage_loans": "ðŸ’° Qarzlar",
        "settings": "âš™ï¸ Sozlamalar",
        "send_transaction": "ðŸ’¬ Xarajat yoki daromadingizni yozing.\n\nMasalan:\nâ€¢ \"15000 oziq-ovqatga sarfladim\"\nâ€¢ \"500000 ish haqi oldim\"\nâ€¢ \"Bugun 25000 transportga ketdi\"",
        "transaction_added": "âœ… Qo'shildi!\n\nðŸ’° Summa: {amount} so'm\nðŸ“ Kategoriya: {category}\nðŸ“ Tavsif: {description}\nðŸ“… Sana: {date}",
        "transaction_error": "âŒ Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.",
        "parse_error": "âŒ Tushunmadim. Iltimos, aniqroq yozing.\n\nMasalan: \"10000 non uchun\"",
        "history_empty": "ðŸ“­ Hali hech narsa yo'q",
        "history_title": "ðŸ“œ Oxirgi 10 ta operatsiya:",
        "monthly_report_text": "ðŸ“Š {month}-oy hisoboti\n\nðŸ’° Daromad: {income} so'm\nðŸ’¸ Xarajat: {expense} so'm\nðŸ“ˆ Balans: {balance} so'm\n\nðŸ“ Jami operatsiyalar: {count}",
        "loan_menu": "ðŸ’° Qarzlar\n\nNima qilmoqchisiz?",
        "add_loan": "âž• Qarz berish",
        "view_loans": "ðŸ“‹ Qarzlar ro'yxati",
        "back": "ðŸ”™ Orqaga",
        "loans_empty": "ðŸ“­ Qarzlar yo'q",
        "loans_list": "ðŸ“‹ Qarzlar ro'yxati:\n\n",
        "loan_item": "ðŸ‘¤ {person}\nðŸ’° {amount} so'm\nðŸ“… {date}\nðŸ“Œ Status: {status}\n\n",
        "send_loan_info": "ðŸ’¬ Qarz ma'lumotlarini yozing.\n\nMasalan: \"Aliga 100000 berdim\"",
        "loan_added": "âœ… Qarz qo'shildi!\n\nðŸ‘¤ Kim: {person}\nðŸ’° Summa: {amount} so'm\nðŸ“… Sana: {date}",
        "voice_processing": "ðŸŽ¤ Ovozli xabar qayta ishlanmoqda...",
        "voice_transcribed": "ðŸ“ Matn: {text}",
    },
    "ru": {
        "welcome": "ðŸ‘‹ Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ! Ð¯ Calco AI - Ð²Ð°Ñˆ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº.\n\nðŸŒ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº:",
        "language_selected": "âœ… Ð¯Ð·Ñ‹Ðº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¸Ð¹!",
        "main_menu": "ðŸ“Š Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ\n\nÐ§Ñ‚Ð¾ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ?",
        "add_expense": "âž– Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´",
        "add_income": "âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾Ñ…Ð¾Ð´",
        "view_history": "ðŸ“œ Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ",
        "monthly_report": "ðŸ“Š ÐœÐµÑÑÑ‡Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡ÐµÑ‚",
        "manage_loans": "ðŸ’° Ð”Ð¾Ð»Ð³Ð¸",
        "settings": "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
        "send_transaction": "ðŸ’¬ ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð²Ð°Ñˆ Ñ€Ð°ÑÑ…Ð¾Ð´ Ð¸Ð»Ð¸ Ð´Ð¾Ñ…Ð¾Ð´.\n\nÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:\nâ€¢ \"ÐŸÐ¾Ñ‚Ñ€Ð°Ñ‚Ð¸Ð» 15000 Ð½Ð° ÐµÐ´Ñƒ\"\nâ€¢ \"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ð» Ð·Ð°Ñ€Ð¿Ð»Ð°Ñ‚Ñƒ 500000\"\nâ€¢ \"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ 25000 Ð½Ð° Ñ‚Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚\"",
        "transaction_added": "âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾!\n\nðŸ’° Ð¡ÑƒÐ¼Ð¼Ð°: {amount} ÑÑƒÐ¼\nðŸ“ ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ: {category}\nðŸ“ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: {description}\nðŸ“… Ð”Ð°Ñ‚Ð°: {date}",
        "transaction_error": "âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.",
        "parse_error": "âŒ ÐÐµ Ð¿Ð¾Ð½ÑÐ». ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ‚Ð¾Ñ‡Ð½ÐµÐµ.\n\nÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: \"10000 Ð½Ð° Ñ…Ð»ÐµÐ±\"",
        "history_empty": "ðŸ“­ ÐŸÐ¾ÐºÐ° Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½ÐµÑ‚",
        "history_title": "ðŸ“œ ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 10 Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹:",
        "monthly_report_text": "ðŸ“Š ÐžÑ‚Ñ‡ÐµÑ‚ Ð·Ð° {month} Ð¼ÐµÑÑÑ†\n\nðŸ’° Ð”Ð¾Ñ…Ð¾Ð´: {income} ÑÑƒÐ¼\nðŸ’¸ Ð Ð°ÑÑ…Ð¾Ð´: {expense} ÑÑƒÐ¼\nðŸ“ˆ Ð‘Ð°Ð»Ð°Ð½Ñ: {balance} ÑÑƒÐ¼\n\nðŸ“ Ð’ÑÐµÐ³Ð¾ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹: {count}",
        "loan_menu": "ðŸ’° Ð”Ð¾Ð»Ð³Ð¸\n\nÐ§Ñ‚Ð¾ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ?",
        "add_loan": "âž• Ð”Ð°Ñ‚ÑŒ Ð² Ð´Ð¾Ð»Ð³",
        "view_loans": "ðŸ“‹ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð´Ð¾Ð»Ð³Ð¾Ð²",
        "back": "ðŸ”™ ÐÐ°Ð·Ð°Ð´",
        "loans_empty": "ðŸ“­ Ð”Ð¾Ð»Ð³Ð¾Ð² Ð½ÐµÑ‚",
        "loans_list": "ðŸ“‹ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð´Ð¾Ð»Ð³Ð¾Ð²:\n\n",
        "loan_item": "ðŸ‘¤ {person}\nðŸ’° {amount} ÑÑƒÐ¼\nðŸ“… {date}\nðŸ“Œ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: {status}\n\n",
        "send_loan_info": "ðŸ’¬ ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð´Ð¾Ð»Ð³Ðµ.\n\nÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: \"Ð”Ð°Ð» ÐÐ»Ð¸ 100000\"",
        "loan_added": "âœ… Ð”Ð¾Ð»Ð³ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½!\n\nðŸ‘¤ ÐšÐ¾Ð¼Ñƒ: {person}\nðŸ’° Ð¡ÑƒÐ¼Ð¼Ð°: {amount} ÑÑƒÐ¼\nðŸ“… Ð”Ð°Ñ‚Ð°: {date}",
        "voice_processing": "ðŸŽ¤ ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ...",
        "voice_transcribed": "ðŸ“ Ð¢ÐµÐºÑÑ‚: {text}",
    }
}

def t(key: str, lang: str = "uz", **kwargs) -> str:
    """Get translation with optional formatting"""
    text = TRANSLATIONS.get(lang, TRANSLATIONS["uz"]).get(key, key)
    if kwargs:
        return text.format(**kwargs)
    return text
